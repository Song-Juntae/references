# 데이터 분석가가 반드시 알아야 할 모든 것

> "Life is a Matter of Direction, Not Speed."

## 목차

* 데이터 기초 체력 기르기
    * 통계학 이해하기
    * 모집단과 표본추출
    * 변수와 척도
    * 데이터의 기술 통계적 측정
    * 확률과 확률변수
    * 확률분포
    * 가설검정
* 데이터 분석 준비하기
    * 분석 프로젝트 준비 및 기획
    * 분석 환경 세팅하기
    * 데이터 탐색과 시각화
    * 데이터 전처리와 파생변수 생성
* 데이터 분석하기
    * 통계 기반 분석 방법론
    * 머신러닝 분석 방법론
    * 모델 평가

---

* 데이터 기초 체력 기르기
    * 통계학 이해하기
        * 왜 통계학을 알아야 할까?
        * 머신러닝과 전통적 통계학의 차이
        * 통계학의 정의와 기원
        * 기술 통계와 추론 통계
    * 모집단과 표본추출
        * 모집단과 표본, 전수조사와 표본조사
        * 표본조사를 하는 이유와 데이터과학 적용 방법
        * 표본추출에서 나타나는 편향의 종류
        * 인지적 편향의 종류
        * 머신러닝 모델 측면의 편향과 분산
        * 표본 편향을 최소화하기 위한 표본 추출 방법
    * 변수와 척도
        * 변수의 종류
        * 변수 관계의 종류
        * 척도의 종류
    * 데이터의 기술 통계적 측정
        * 중심 성향의 측정
        * 분산과 표준편차
        * 산포도와 범위, 사분위수, 변동계수
        * 왜도와 첨도
        * 표준편차의 경험법칙
    * 확률과 확률변수
        * 확률의 기본 개념
        * 확률의 종류
        * 분할과 베이지안 이론
        * 확률변수의 개념과 종류
        * 심슨의 역설
    * 확률분포
        * 확률분포의 정의와 종류
        * 이산확률분포
        * 연속확률분포
        * 중심극한정리
    * 가설검정
        * 귀무가설과 대립가설
        * 가설검정의 절차
        * 가설검정의 유의수준과 p값
        * 1종 오류와 2종 오류
* 데이터 분석 준비하기
    * 분석 프로젝트 준비 및 기획
        * 데이터 분석의 전체 프로세스
        * 비즈니스 문제 정의와 분석 목적 도출
        * 분석 목적의 전환
        * 도메인 지식
        * 외부 데이터 수집과 크롤링
    * 분석 환경 세팅하기
        * 어떤 데이터 분석 언어를 사용하는 것이 좋을까?
        * 데이터 처리 프로세스 이해하기
        * 분산데이터 처리
        * 테이블 조인과 정의서 그리고 ERD
    * 데이터 탐색과 시각화
        * 탐색적 데이터 분석
        * 공분산과 상관성 분석
        * 시간 시각화
        * 비교 시각화
        * 분포 시각화
        * 관계 시각화
        * 공간 시각화
        * 박스 플롯
    * 데이터 전처리와 파생변수 생성
        * 결측값 처리
        * 이상치 처리
        * 변수 구간
        * 데이터 표준화와 정규화 스케일링
        * 모델 성능 향상을 위한 파생 변수 생성
        * 슬라이딩 윈도우 데이터 가공
        * 범주형 변수의 가변수 처리
        * 클래스 불균형 문제 해결을 위한 언더샘플링과 오버샘플링
        * 데이터 거리 측정 방법
* 데이터 분석하기
    * 통계 기반 분석 방법론
        * 분석 모델 개요
        * 주성분 분석(PCA)
        * 공통요인분석(CFA)
        * 다중공선성 해결과 섀플리 밸류 분석
        * 데이터 마사지와 블라인드 분석
        * Z-test와 T-test
        * ANOVA(Analysis of Variance)
        * 카이제곱 검정(교차분석)
    * 머신러닝 분석 방법론
        * 선형 회귀분석과 Elastic Net(예측모델)
        * 로지스틱 회귀분석(분류모델)
        * 의사결정나무와 랜덤 포레스트(예측/분류 모델)
        * 선형 판별분석과 이차 판별분석(분류 모델)
        * 서포트벡터머신(분류모델)
        * KNN(분류, 예측 모델)
        * 시계열 분석(예측 모델)
        * k-means 클러스터링(군집 모델)
        * 연관규칙과 협업 필터링(추천 모델)
        * 인공 신경망(CNN, RNN, LSTM)
    * 모델 평가
        * 학습 셋, 검증 셋, 테스트 셋과 과적합 해결
        * 주요 교차 검증 방법
        * 회귀성능 평가지표
        * 분류, 추천 성능 평가지표
        * A/B 테스트와 MAB
        * 유의확률의 함정
        * 분석가의 주관적 판단과 스토리텔링
---

### 통계학 이해하기

기초 통계   --발전-->   데이터 과학

기초 통계   --필요-->   데이터 분석 해석

데이터 과학의 프로세스

    데이터 수집 --->    데이터 가공 --->    Exploratory data analysis(탐색적 데이터 분석)/ 데이터 시각화    --->    M/L 모델링  --->    결과 해석 및 적용

머신러닝    --목적-->   예측

전통적 통계학   --목적-->   해석

    전통적 통계학

        확률    --검증-->   가설

        추정 모델   --해석-->   데이터

|분류|통계학|머신러닝|
|:---|:---|:---|
|접근 방식|확률변수를 통해 자료생성과정(Data Generating Process: DGP)을 파악|알고리즘 모델 생성|
|기반|수학, 이론|비선형 데이터 피팅(Data fitting)|
|목표|가설 검정, 현상 해석|예측 정확도 향상|
|변수(차원)|10개 이하의 소수 변수 활용|다차원의 변수 활용|
|활용|과거와 현재 데이터를 활용한 현상의 해석|과거와 현재 데이터를 활용한 미래 예측|
|접근 방향|가설 ---> 데이터|데이터 ---> 가설|

    Statistics(통계학)

        자료 수집   --분석-->   효율적인 의사결정

인구조사 --발전--> 통계학

    근대 통계학

        영국 정치산술파 통계학
            존 그랜트 - 창시자
            패티 - 인구통계표
            핼리 - 보험 수학

        독일 대학파 통계학
            콘링 - 국정론
            아헨발 - 통계학 용어 정립

        프랑스 확률론
            베르누이 - 순열과 조합
            가우스 - 정규분포, 최소제곱법
            라플라스 - 확률론 체계화  
  
  <br>
  
    현대 통계학

        프랜시스 골턴 영국 인류학자
            Quartile(사분위수), Percentile(백분율), Standard deviation(표준편차) 개념에 이름을 붙임
            Regression to the mean 발견
        
        칼 피어슨 영국
            Correlation coefficient(상관관계 계수) 창시
                세상의 모든 사건은 독립적으로 일어나지만 서로 상관관계를 가지고 있으므로 상관관계를 맺는 두 변수 중에서 하나의 변수를 알면 다른 변수를 알 수 있다.

        존 튜키 미국
            Exploratory Data Analysis(EDA, 탐색적 데이터 분석) 창시
            데이터 분석의 미래 논문에서 기존 통계학에 개혁이 필요함을 주장

    기술 통계

        주어진 데이터의 특성을 사실에 근거하여 설명하고 묘사 

        데이터 과학에서는 기술 통계 == Exploratory Data Analysis

        기술 통계 ---> 시각화

<br>

    추론 통계

        표본 집단으로부터 모집단의 특성을 추론

<br>

    기술 통계 + 추론 통계

        표본의 특성을 분석 ---> 특성의 일반화 여부 판단 ---> 모집단의 특성으로 추정

### 모집단과 표본추출

|전수조사||표본조사|
|:---|:---|:---|
|모집단|-- 표본추출 -->|표본|
|모수|<-- 추정 및 검정 --|검정통계량|

tip - 통계적으로 변수 하나당 최소 30개의 관측치가 필요하다

marking-and-recapture method : (표지 재포획법) 표본에 표지를 남겨, 다시 표본을 뽑을 때, 모집단의 전체 크기를 추정한다.

    # 책의 편향 분류가 정확하지 않는 것 같다.
    # 더 찾아봐야 겠다

    Sample selection bias : (표본추출편향) 
        Sampling error : (표본오차) 모집단과 표본의 자연 발생적인 변동
            Chance : (우연)
            표본 수의 부족
        Non-sampling error : (비표본오차) 표본오차를 제외한 오차들
            bias : (편향)
                Sample selection bias : (표본추출편향) 
                Household bias : (가구편향)
                Non-respense bias : (무응답편향)
                Response bias : (응답편향) 여론에 의한 거짓된 응답

    Cognitive bias : (인지적 편향)
        Confirmation bias : (확증 편향)
        Anchoring bias : (기준점 편향)
        Choice-supportive bias : (선택 지원 편향)
        Denominator bias : (분모 편향)
        Survivorship bias : (생존자 편향)

    머신러닝 모델 측면의 편향과 분산
        모델 복잡도를 올릴수록 예측값의
            분산은 올라가고
            편향은 줄어들며
        모델 복잡도를 줄일수록 예측값의
            분산은 줄어들며
            편향은 올라갈 수 있다.

---
    표본 추출 관점

        데이터 수집 단계의 표본 추출 단계

            모집단 확정

            표본 프레임 결정

            표본 추출방법 결정
                확률 표본 추출과 비확률 표본 추출 방법 그리고 복원추출과 비복원추축 중 고르기

            표본크기 결정

            표본 추출
            
        수집된 데이터에서 표본 추출 단계

            데이터 수집 단계의 모집단 확정과 표본 프레임이 올바른지 판단 후 진행

            표본 추출방법 결정
                보유데이터에서는 확률 표본추출방법을 선택한다.

            표본크기 결정

            표본 추출

---

    표본 추출 방법
        확률 표본추출 방법
            단순 임의 : 모두 동일한 확률
            계층적 : 순서에 따라 일정 간격을 두고 추출
            층화 : 일정한 기준에 분류하여, 분류된 strata(소집단)들에서 무작위 추출
            군집 : 일정한 기준에 분류하여, 분류된 strata(소집단) 하나에서만 추출

        Sampling with replacement : (SWR, 복원 추출) 뽑은 표본을 다시 돌려두고, 뽑기
        Sampling without replacement : (SWOR, 비복원 추출) 뽑은 표본을 다시 안 돌려두고, 뽑기

### 변수와 척도

    척도의 종류
        Qualitative : (질적 척도)
            Nominal scale : (명목 척도) 범주
            Ordinal scale : (서열 척도) 범주 + 순서
        Quauntitative : (양적 척도)
            Interval scale : (등간 척도) 범주 + 순서 + 상대적크기
            Ratio scale : (비율 척도) 범주 + 순서 + 상대적크기 + 절대적크기

    변수 간의 관계의 종류
        Causal relationship : (인과 관계)
        Correlational relationship : (상관 관계)
        Independent relationship : (독립 관계)
        Spurious relationship : (의사 관계)
        Reciprocal causality : (양방향적 인과 관계)
        Moderating relationship : (조절 관계)
        Mediational relationship : (매개 관계)

    변수의 종류
        변수의 형태에 따른 분류
            Quantitative variable : (양적 변수)
                Discrete variable : (이산 변수)
                Continuous variable : (연속 변수)
            Categorical variable : (질적 변수)
        변수 간의 관계에 따른 분류
            Independent variable : (독립 변수)
            Dependent variable : (종속 변수)
            Control variable : (통제 변수)
            Mediator variable : (매개 변수)
            Moderator variable : (조절 변수)

|종속변수 존재 유무|종속변수 척도 종류|독립변수 갯수|독립변수 척도 종류|수준|짝 유무|정규성|관점|분석방법|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|없음|-|-|명목/서열|-|-|-|-|연관성 분석|
|존재|명목/서열|-|명목/서열|-|-|-|-|$X^2$ 분석|
|존재|명목/서열|-|등간/비율|-|-|-|-|Logistic 회귀분석|
|존재|등간/비율|1개|명목/서열|2|O|O|-|Paired T-test|
|존재|등간/비율|1개|명목/서열|2|O|X|-|Wilcoxon|
|존재|등간/비율|1개|명목/서열|2|X|O|-|2-Sample T-test|
|존재|등간/비율|1개|명목/서열|2|X|X|-|Mann-Whitney|
|존재|등간/비율|1개|명목/서열|3 이상|-|O|-|One-Way ANOVA|
|존재|등간/비율|1개|명목/서열|3 이상|-|X|-|Kruskal-Wallis|
|존재|등간/비율|1개|등간/비율|-|-|-|-|회귀분석|
|존재|등간/비율|2개 이상|명목/서열|-|-|-|-|ANOVA(GLM)|
|존재|등간/비율|2개 이상|등간/비율|-|-|-|-|회귀분석|
|존재|등간/비율|2개 이상|-|-|-|-|회귀분석|회귀분석(Dummy)|
|존재|등간/비율|2개 이상|-|-|-|-|ANOVA|GLM(Covariate)|

### 데이터의 기술 통계적 측정

    데이터의 중심 성향 : 데이터를 대표할 수 있는 값
        Mean : (평균값)
            Arithmetic mean : (산술 평균)
            Weighted mean : (가중 평균) 평균을 낼 각 집단의 비중, 영향도를 고려해서 서로 다른 가중치를 줘서 구한 평균
                예) 소비자 물가지수, 학생 수가 서로 다른 학급 별 평균 몸무게, 가중치*평균
            Geometric mean : (기하 평균) 일반적으로 시간에 따라 비율적으로 변화하는 값의 평균을 구할 때 사용, (변화율1 * 변화율2 ... 변화율n)**1/n
                예) 물가상승률, 인구 변동률, 증권 수익률
            Harmonic mean : (조화 평균) 기하평균처럼 시간적으로 변화하는 데이터의 평균을 구할 때 사용
                예) 평균 속도

        Mode : (최빈값) 데이터 중 가장 빈도가 높은 값
            예) 생산해 낼  옷, 신발 사이즈 비중

        Median : (중앙값) 데이터 중간에 위치한 값, 소득처럼 양극화가 심한 경우, 중앙값이 더 합리적이다.

    Dispersion : (산포도, Variation, 분산도) 대푯값을 중심으로 자료들이 흩어져 있는 정도
        편차
            평균 편차

            표준 편차
            
            분산

        범위

        사분위수

        변동 계수

        # 계산식 안에서 모든 표본의 값을 사용한 추정치를 쓴다면, 마지막으로 사용하는 표본의 값을 알 수 있으니까 자유도가 떨어지는 것?
        Degree of freedom : (자유도) 자유롭게 선택할 수 있는 숫자의 개수
            분산에서 n-1로 나누는 이유도 편차를 구할 때, 사용하는 표본평균이 모든 표본을 사용한 추청치이기 때문이다.?

        허용치의 상한과 하한

    Shape : 모양
        왜도
        첨도


    68–95–99.7 rule, empirical rule
    체비셰프의 정리

### 확률과 확률변수

확률이란 일정한 조건 안에서 특정 사건이 일어날 수 있는 가능성의 정도를 뜻한다.

표본공간

표본 점

비조건 확률

결합 확률

조건부 확률

분할

베이지안 이론

확률변수

심슨의 역설

### 확률분포

확률분포


이산확률분포

확률질량함수

이항 분포, 초기하 분포, 포아송 분포

연속확률분포

확률밀도함수

정규 분포, t분포, 카이제곱 분포, 지수분포

|분포 종류 1|표현 방법|분포 종류 2|예|
|:---|:---|:---|:---|
|이산확률분포|확률질량함수|균등 분포|주사위 던지기|
|이산확률분포|확률질량함수|이항 분포|동전 던지기|
|이산확률분포|확률질량함수|초기하 분포||
|이산확률분포|확률질량함수|포아송 분포|품질관리, 보험상품 개발|
|연속확률분포|확률밀도함수|정규 분포|모집단에서 추출된 표본 평균과 비율|
|연속확률분포|확률밀도함수|지수분포||

중심극한정리

### 가설검정

가설이란 연구문제에 대한 잠정적 결론이다.

기술적 분석

진단적 분석

예측 분석

처방적 분석


귀무 가설

대립 가설

    가설 설정

    유의수준 설정
        일반적으로 0.1, 0.05, 0.01
    실험 수행

    검정 통계량 산출

    대립가설 기각/채택

유의 수준

신뢰 수준


양측 검정

단측 검정

1종 오류

2종 오류

검정력


### 분석 프로젝트 준비 및 기획

데이터 분석의 궁극적인 목표는 의사결정 프로세스를 최적화하는 것



설계 단계

분석 및 모델링 단계

구축 및 활용 단계


CRISP-DM 방법론

SAS SEMMA 방법론


    MECE

    페이오프 매트릭스 

    분석 목적의 전환

    도메인 지식


외부 데이터 수집

    구매

    오픈 데이터

    크롤링

### 분석 환경 세팅하기

SAS

R

Python

SQL


    OLTP

    DW(ODS)

    DM

    OLAP

ETL

HDFS

맵리듀스

하둡

분산시스템

스파크

### 데이터 탐색과 시각화

시간

비교

분포

관계

공간

공분산

상관계수

EDA의 목적

    필요한 라이브러리 임포트

    데이터 불러오기

    ...

차드 ...
